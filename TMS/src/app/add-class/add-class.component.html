<div class="content-area">
  <div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="text-center animate-title mb-0">
        {{ getTranslation("add_new_class") }}
      </h2>
    </div>
    <form
      #classForm="ngForm"
      (ngSubmit)="onSubmit()"
      class="p-4 bg-white rounded shadow animate-form"
    >
      <div class="row">
        <!-- Class ID -->
        <div class="col-md-6 mb-3">
          <label for="class_id" class="form-label">{{
            getTranslation("class_id")
          }}</label>
          <input
            type="text"
            id="class_id"
            name="class_id"
            class="form-control animate-input"
            [placeholder]="getTranslation('enter_class_id')"
            [(ngModel)]="class.class_id"
            required
            pattern="[A-Za-z0-9_]+"
          />
          <div
            *ngIf="
              classForm.controls['class_id']?.invalid &&
              classForm.controls['class_id']?.touched
            "
            class="text-danger animate-error"
          >
            {{ getTranslation("invalid_class_id") }}
          </div>
        </div>

        <!-- Class Name -->
        <div class="col-md-6 mb-3">
          <label for="class_name" class="form-label">{{
            getTranslation("class_name")
          }}</label>
          <input
            type="text"
            id="class_name"
            name="class_name"
            class="form-control animate-input"
            [placeholder]="getTranslation('enter_class_name')"
            [(ngModel)]="class.class_name"
            required
            pattern="[A-Za-z0-9\s]+"
          />
          <div
            *ngIf="
              classForm.controls['class_name']?.invalid &&
              classForm.controls['class_name']?.touched
            "
            class="text-danger animate-error"
          >
            {{ getTranslation("invalid_class_name") }}
          </div>
        </div>
      </div>

      <div class="row">
        <!-- Subject -->
        <div class="col-md-6 mb-3">
          <label for="subject_id" class="form-label">{{
            getTranslation("subject")
          }}</label>
          <select
            id="subject_id"
            name="subject_id"
            class="form-select animate-input"
            [(ngModel)]="class.subject_id"
            required
          >
            <option value="" disabled selected>
              {{ getTranslation("select_subject") }}
            </option>
            <option *ngFor="let subject of subjects" [value]="subject.subject_id">
              {{ subject.subject_name }}
            </option>
          </select>
          <div
            *ngIf="
              classForm.controls['subject_id']?.invalid &&
              classForm.controls['subject_id']?.touched
            "
            class="text-danger animate-error"
          >
            {{ getTranslation("invalid_subject") }}
          </div>
        </div>

        <!-- Day -->
        <div class="col-md-6 mb-3">
          <label for="day" class="form-label">{{
            getTranslation("day")
          }}</label>
          <select
            id="day"
            name="day"
            class="form-select animate-input"
            [(ngModel)]="class.day"
            required
          >
            <option value="" disabled selected>
              {{ getTranslation("select_day") }}
            </option>
            <option *ngFor="let day of weekdays" [value]="day">
              {{ day }}
            </option>
          </select>
          <div
            *ngIf="
              classForm.controls['day']?.invalid &&
              classForm.controls['day']?.touched
            "
            class="text-danger animate-error"
          >
            {{ getTranslation("invalid_day") }}
          </div>
        </div>
      </div>

      <div class="row">
        <!-- Start Time -->
        <div class="col-md-6 mb-3">
          <label for="start_time" class="form-label">{{
            getTranslation("start_time")
          }}</label>
          <input
            type="time"
            id="start_time"
            name="start_time"
            class="form-control animate-input"
            [(ngModel)]="class.start_time"
            required
          />
          <div
            *ngIf="
              classForm.controls['start_time']?.invalid &&
              classForm.controls['start_time']?.touched
            "
            class="text-danger animate-error"
          >
            {{ getTranslation("invalid_start_time") }}
          </div>
        </div>

        <!-- End Time -->
        <div class="col-md-6 mb-3">
          <label for="end_time" class="form-label">{{
            getTranslation("end_time")
          }}</label>
          <input
            type="time"
            id="end_time"
            name="end_time"
            class="form-control animate-input"
            [(ngModel)]="class.end_time"
            required
          />
          <div
            *ngIf="
              classForm.controls['end_time']?.invalid &&
              classForm.controls['end_time']?.touched
            "
            class="text-danger animate-error"
          >
            {{ getTranslation("invalid_end_time") }}
          </div>
        </div>
      </div>

      <div class="row">
        <!-- Room Number -->
        <div class="col-md-6 mb-3">
          <label for="room_number" class="form-label">{{
            getTranslation("room_number")
          }}</label>
          <input
            type="text"
            id="room_number"
            name="room_number"
            class="form-control animate-input"
            [placeholder]="getTranslation('enter_room_number')"
            [(ngModel)]="class.room_number"
            required
            pattern="[A-Za-z0-9-]+"
          />
          <div
            *ngIf="
              classForm.controls['room_number']?.invalid &&
              classForm.controls['room_number']?.touched
            "
            class="text-danger animate-error"
          >
            {{ getTranslation("invalid_room_number") }}
          </div>
        </div>

        <!-- Capacity -->
        <div class="col-md-6 mb-3">
          <label for="capacity" class="form-label">{{
            getTranslation("capacity")
          }}</label>
          <input
            type="number"
            id="capacity"
            name="capacity"
            class="form-control animate-input"
            [placeholder]="getTranslation('enter_capacity')"
            [(ngModel)]="class.capacity"
            required
            min="0"
            step="1"
          />
          <div
            *ngIf="
              classForm.controls['capacity']?.invalid &&
              classForm.controls['capacity']?.touched
            "
            class="text-danger animate-error"
          >
            {{ getTranslation("invalid_capacity") }}
          </div>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="text-center">
        <button
          type="submit"
          class="btn btn-primary animate-button"
          [disabled]="classForm.invalid"
        >
          {{ getTranslation("add_class") }}
        </button>
      </div>
    </form>

    <!-- Optional Import Modal (Uncomment if needed) -->
    <!-- <div class="custom-modal" *ngIf="isImportModalOpen">
        <div class="modal-overlay" (click)="closeImportModal()"></div>
        <div class="modal-content animate-modal">
          <div class="modal-header">
            <h5 class="modal-title">
              <i class="bi bi-file-earmark-arrow-up me-2"></i> {{ getTranslation('import_class_list') }}
            </h5>
            <button type="button" class="close-btn" (click)="closeImportModal()" aria-label="Close">
              <i class="bi bi-x-lg"></i>
            </button>
          </div>
          <div class="modal-body">
            <div
              class="drag-drop-area"
              (dragover)="onDragOver($event)"
              (dragleave)="onDragLeave($event)"
              (drop)="onDrop($event)"
              [ngClass]="{ 'drag-over': isDragging }"
            >
              <i class="bi bi-cloud-upload display-4 text-muted mb-3"></i>
              <p class="mb-2">{{ getTranslation('drag_drop_csv') }}</p>
              <input
                type="file"
                id="csvFile"
                accept=".csv"
                class="d-none"
                (change)="onFileSelected($event)"
              />
              <label style="color: white" for="csvFile" class="btn btn-outline-primary animate-button">
                <i class="bi bi-folder2-open me-2"></i> {{ getTranslation('choose_file') }}
              </label>
              <p *ngIf="selectedFile" class="mt-3 text-success">
                <i class="bi bi-check-circle me-2"></i> {{ selectedFile.name }}
              </p>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary animate-button" (click)="closeImportModal()">
              <i class="bi bi-x-circle me-2"></i> {{ getTranslation('cancel') }}
            </button>
            <button type="button" class="btn btn-primary animate-button" (click)="importCsv()" [disabled]="!selectedFile">
              <i class="bi bi-file-earmark-check me-2"></i> {{ getTranslation('import') }}
            </button>
          </div>
        </div>
      </div> -->
  </div>
</div>